
京东商城项目

1:软件项目开发流程
  ｛小/中小**/大型/...｝
  a:需求分析       技术经理{美工}
	b:静态图原型图   美工
	c:切版静态网页   你(html/css/js)
	d:动态网页       后台工程师(jsp/asp/php/mysql.)
	e:测试           测试
	f:(apache.php.mysql..ip) 运维工程师
	g:上线            (所有人都在)

2:分析功能{记录实现每功能}
  *2.1:用户登录
	*2.2:浏览器商品
	 2.3:浏览器商品{分页}----> ajax
	*2.4:加入购物车
	*2.5:查看购物车
	2.6: +             ----> ajax   
	     -             ----> ajax
  2.7:删除           ----> ajax
3:依据分析库/表/记录
  
4:依据分析功能一个模块一个模块
  一个模块
	a:功能:用户登录
	b:php  测
	  b.1:创建sql
		b.2:参数?
		b.3:返回数据格式 JSON
	c:html js
	  c.1:查找元素
		c.2:创建js
		c.3:一行一行js


开发:
1:htdocs/jd        创建目录
2:htdocs/jd/jd.sql 创建sql
3:copy 所有资源    html/css/js/img/...
                   data/php..
4:创建js
  htdocs/js/productlist.js


模块一:用户登录
  功能分析:
	1:请用户输入用户名与密码并且点击"登录按钮"
	2:出错 显示"用户名或密码错误"
	3:成功 1:隐藏模态登录窗口
         2:在header显示"欢迎回来 qingdong"
				 3:保存登录'用户名 uid'{通过全局变量}
	4:数据格式:json 			   
  库:jd
	表:jd_user(uid/uname/upwd)
  php:jd/data/user_login.php  测试10s
	php:jd/data/init.php
	html:jd/productlist.html   408 line
	js  :js/js/productlist.js

模块二:产品浏览分页处理
功能分析:
  1:页面加载成功显示第一页商品列表
	  一页8条记录
	2:页面显示 1 2 [3] 4 5
	  点击指定页码显示不同页内容
	4:数据格式:json 			   
  库:jd   14:10---14:35 分页查询产品
	表:jd_product(pid/pname/price/pic)
  php:jd/data/product_list.php
	php:jd/data/init.php
	html:jd/productlist.html
	js  :js/js/productlist.js

	15:50---16:00 阅读代码

	16:30--16:40  练习
	16:40--16:50  休息
	16:50--17:10  添加购物车


模块三:添加购物车
  1:点击添加购物车按钮{添加成功返回:信息}
	2:处理php
	  a:将用户id和产品id传---->php
		b:依据用户id查询{购物车表}购物车id  {有车吗?}
		  SELECT cid FROM jd_cart WHERE userId=10;
		c:如果用户没有购物车
		  添加购物车{购物车表添加一条记}
      INSERT INTO jd_cart VALUES(null,userId);
    d:如果用户有购物车//一定是有购物车
		  返回{购物车id}
      $cid = mysqli_insert_id($conn);
    e:查询{购物车明细表},｛依据购物车id和产品id｝
		  没有查询到指定购物明细{添加一条记录}
			SELECT * FROM jd_cart_detail
			WHERE cartId=10 AND productId=1;

      INSERT INTO jd_cart_detail VALUES(null,cid,uid,1);
    f:更新数量 1+2
		  UPDATE jd_cart_detail SET count=count+1
			WHERE did = 10;
		g:返回购买成功 和数量 json
	3:数据格式:json 			   
  库:jd
	表:jd_cart(cid/userId)
	   jd_cart_detail(did,cartId,productId,count)
  php:jd/data/cart_detail_add.php
	php:jd/data/init.php
	html:jd/productlist.html
	js  :js/js/productlist.js
	    #点击事件
			#产品id 用户id


模块四:查看购物车
难题:productlist.html--->shoppingcart.html
用户名
用户编号
方案1：?uname=qingdong&uid=10
方案2: cookie 
document.cookie = 'loginUname=qingdong';
document.cookie = 'loginUid=10';
location.href  = "shoppingcart.html";

取数据cookie
var cookieArray = document.cookie



作业:
1:添加购物车完善
2:查看购物车
3:查看购物车列表 (选) shoppingcart.html






