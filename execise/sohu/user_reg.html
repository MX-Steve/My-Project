<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<form action="check_uname.php" method="post" id="regForm">
			用户名：<input type="text" name="uname" id="uname"><span id="unameTip" style="color:red;"></span><br />
			密 码：<input type="password" name="upwd"><br />
			<input type="submit" value="注册">
		</form>
		<script>
			//获取用户名绑定事件
			uname.onblur = function(){
				//创建xhr对象
				var xhr = new XMLHttpRequest();
				//监听xhr的状态改变
				xhr.onreadystatechange = function(){
					//如果状态码为200 &&　接收完成
					//获取数据
					if(xhr.status == 200 &&
						xhr.readyState == 4){
							unameTip.innerHTML = xhr.responseText;
						}
				}
				//链接web服务器
				xhr.open('GET','check_uname.php?uname='+this.value,true);
				//发送请求服务器
				xhr.send(null);
			}
		</script>
	</body>
</html>