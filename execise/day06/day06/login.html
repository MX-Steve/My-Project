<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
	  <h1>用户登录</h1>
		<form action="login_do.php" method="post" id="regForm">
		用户名<input type="text" name="uname" value="" id="uname"/>
		<span id="unameTip" style="color:red;"></span><br/>
		 密码
		<input type="password" name="upwd" value="" id="upwd"/>
		<br />
   <input type="button" value="登录" id="btn"/>
		</form>

		<script>
     //1:为提交按钮绑定点击事件
     btn.onclick = function(){
		 //2:获取用户名和密码拼url
		 var url = "login_do.php?uname="+uname.value;
		 url += "&upwd="+upwd.value;
		 //3:发送ajax请求
		  //3.1: 创建xhr对象
			var xhr = new XMLHttpRequest();
			//3.2: 绑定事件
			xhr.onreadystatechange = function(){
				 if(xhr.readyState === 4
				 && xhr.status === 200){
				   var mes = xhr.responseText;
           if(mes==="success"){
						 alert("登录成功");
					 }else{
					   alert("登录失败");
					 }
				 }
			}
			//3.3: 打开
			xhr.open('GET',url,true);
			//3.4: 发送
			xhr.send(null);
		 }
		</script>
	</body>
</html>