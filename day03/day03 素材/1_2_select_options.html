<!DOCTYPE HTML>
<html>
<head>
<title>二级联动列表</title>
<meta charset="utf-8" />
<style>
	.hide{ display: none; }
</style>
<script>
	/*实现“省”和“市”的级联下拉列表*/
	var cities=[
		[],		/*0号下标没有元素*/
		[{"name":'东城区',"value":101},
		 {"name":'西城区',"value":102},
		 {"name":'海淀区',"value":103},
		 {"name":'朝阳区',"value":104}
		],
		[{"name":'河东区',"value":201},
		 {"name":'河西区',"value":202},
		 {"name":'南开区',"value":303}
		],
		[{"name":'石家庄市',"value":301},
		 {"name":'廊坊市',"value":302},
		 {"name":'保定市',"value":303},
		 {"name":'唐山市',"value":304},
		{"name":'秦皇岛市',"value":304}
		]
	];
	
</script>

</head>
<body>
	<select name="provs">
		<option>—请选择—</option><!--0--><!-- 防止误选 -->
		<option>北京市</option><!--1-->
		<option>天津市</option>
		<option>河北省</option>
	</select>
	
	<select name="cities" class="hide">
	</select>
	<script>
		+function(){
			var selProvs=document.getElementsByName("provs")[0];
			var selCts=document.getElementsByName("cities")[0];
			selProvs.onchange=function(){
				var i=this.selectedIndex;//返回选中option的位置
				if(i){
					selCts.innerHTML="";//每次选择都要清空之前的
					var cts=cities[i];
					var frag=document.createDocumentFragment();
					var opt=document.createElement("option");
					opt.innerHTML="-请选择-";//每个下拉列表都要加一个请选择选项
					frag.appendChild(opt);
					for(var i=0;i<cts.length;i++){
						var opt=document.createElement("option");
						opt.innerHTML=cts[i].name;
						opt.value=cts[i].value;
						frag.appendChild(opt);	
					}
					selCts.appendChild(frag);
					selCts.style.display="block";//selCts是声明出来的，这里不能用name
				}else{//这里是如果i=0（即返回位置为0时）
					selCts.style.display="none";
				}
			}
			
		}();
		//step1:找到两个select列表
		//step2:因为有多个平级子元素，所以要创建片段，将子元素先存在片段中，再由片段追加给selCts


	</script>
</body>
</html>
