<!DOCTYPE HTML>
<html>
<head>
<title>表单提交验证</title>
<meta charset="utf-8" />
<style>
	.hintText{color: #aaaaaa; font-style: italic; }
	.normalText { color: #000000;}
</style>
</head>
<body>
	<h2>发表留言</h2>
  <form>
	姓名：<input name="userName" class="hintText" 
				value="请输入您的姓名"/>
		  <span>姓名不能为空</span><br />
				
	内容：<textarea name="content" class="hintText" 
					rows="5" cols="30"
					style="resize:none">请输入留言内容</textarea><br />
	<label>
		<input type="checkbox"/>我已阅读了《常见问题列表》
	</label><br/>
	<input type="button" disabled="disabled" value="提交"/>
  </form>
	<script>
	/*
		+function(){
			var form=document.forms[0];
			form.userName.onfocus=getFocus.bind(form.userName,"请输入您的姓名");
			form.content.onfocus=getFocus.bind(form.content,"请输入留言内容");
			function getFocus(msg){
				if(this.value==msg){
					this.value="";
					this.className="";
				}
			}
			form.userName.onblur=vali.bind(form.userName,"请输入您的姓名");
			form.content.onblur=vali.bind(form.content,"请输入留言内容");
			function vali(msg){
				var reg=new RegExp("^(\\s*|"+msg+")$");
				if(reg.test(this.value)){
					this.value=msg;
					this.className="hintText";
				}
			}
			var btn=form.elements[form.length-1];
			form.elements[form.length-2].onclick=function(){
				btn.disabled=!this.checked;
			}
			btn.onclick=function(){
				if(form.userName.value=="请输入您的姓名")
					form.userName.onfocus();
				else if(form.content.value=="请输入留言内容")
					form.content.onfocus();
				else form.submit();
			}
		}();
	*/
	+function(){
		var form=document.getElementsByTagName("form")[0];
		form.userName.onfocus=getFocus.bind(form.userName,"请输入您的姓名");
		form.content.onfocus=getFocus.bind(form.content,"请输入留言内容");
		function getFocus(msg){
			if(this.value==msg){
				this.value="";
				this.className="";
			}
		}
		form.userName.onblur=vali.bind(form.userName,"请输入您的姓名");
		form.content.onblur=vali.bind(form.content,"请输入留言内容");
		function vali(msg){
			if(this.value==msg){
				this.value=msg;
				this.className="hintText";
			}
		}
		var btn=form.elements[form.length-1];
		form.elements[form.length-2].onclick=function(){
			btn.disabled=!this.checked;
		}
		btn.onclick=function(){
			if(form.userName.value=="请输入您的姓名")
				form.userName.onfocus();
			else if(form.content.value=="请输入留言内容")
				form.content.onfocus();
			else form.submit();
		}
	}();
	</script>
</body>
</html>
